<!-- <h1>homepage</h1>
<a href="/logout" class="btn btn-danger">logout</a> -->



<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <title>
   Eagle Eye
  </title>
  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800 " rel="stylesheet" type="text/css" />
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet" type="text/css">
  <!-- Nucleo Icons -->
  <link href="{% static '/assets/css/nucleo-icons.css'%}" rel="stylesheet" type="text/css" />
  <!-- CSS Files -->
  <link href="{% static '/assets/css/black-dashboard.css' %}" rel="stylesheet" type="text/css" />
  <!-- CSS Just for demo purpose, don't include it in your project -->
  <link href="{% static '/assets/demo/demo.css'%}" rel="stylesheet" type="text/css" />
<!-- leaf let map js  -->
<link rel="stylesheet" href="{% static '/dashboard/css/leaflet.css'%}"/>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin=""/>
<!-- leaflet map js  -->
  <style>
    /* width */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    /* Track */
    ::-webkit-scrollbar-track {
      box-shadow: inset 0 0 5px grey; 
      border-radius: 10px;
    }
     
    /* Handle */
    ::-webkit-scrollbar-thumb {
      background: red; 
      border-radius: 10px;
    }
    
    /* Handle on hover */
    ::-webkit-scrollbar-thumb:hover {
      background: #b30000; 
    }
    .custom_center{
      display:flex;
      justify-content:center;
      align-items:center;
    }
    </style>
</head>

<body class="">
  <div class="wrapper">
    <div class="sidebar">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="blue | green | orange | red"
    -->
      <div class="sidebar-wrapper">
        <div class="logo">
          <a href="javascript:void(0)" class="simple-text logo-mini">
            <img src="{% static '/images/1.png'%}" style="background:white;" />
          </a>
          <a href="javascript:void(0)" class="simple-text logo-normal">
           Eagle Eye 
          </a>
        </div>
        <ul class="nav">
          <li class="active ">
            <a href="./dashboard.html">
              <i class="tim-icons icon-chart-pie-36"></i>
              <p>   Eagle Eye</p>
            </a>
          </li>
          <li>
            <a href="./icons.html">
              <i class="tim-icons icon-atom"></i>
              <p><a href="/twitter/index/" class="text-white nav-link"style="font-size:12px">Twitter Engine</a></p>
            </a>
          </li>
          <li>
            <a href="./map.html">
              <i class="tim-icons icon-pin"></i>
              <p>Maps</p>
            </a>
          </li>
          <li>
            <a href="./notifications.html">
              <i class="tim-icons icon-bell-55"></i>
              <p>Notifications</p>
            </a>
          </li>
          <li>
            <a href="./user.html">
              <i class="tim-icons icon-single-02"></i>
              <p>User Profile</p>
            </a>
          </li>
          <li>
            <a href="./tables.html">
              <i class="tim-icons icon-puzzle-10"></i>
              <p>Table List</p>
            </a>
          </li>
          <li>
            <a href="./typography.html">
              <i class="tim-icons icon-align-center"></i>
              <p>Typography</p>
            </a>
          </li>
          <li>
            <a href="./rtl.html">
              <i class="tim-icons icon-world"></i>
              <p>RTL Support</p>
            </a>
          </li>
          <li class="active-pro">
            <a href="./upgrade.html">
              <i class="tim-icons icon-spaceship"></i>
              <p>Upgrade to PRO</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-absolute navbar-transparent">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <div class="navbar-toggle d-inline">
              <button type="button" class="navbar-toggler">
                <span class="navbar-toggler-bar bar1"></span>
                <span class="navbar-toggler-bar bar2"></span>
                <span class="navbar-toggler-bar bar3"></span>
              </button>
            </div>

            <a class="navbar-brand font-weight-bold " href="javascript:void(0)">
                <img src="{% static '/images/1.png'%}" height="60" width="100" style="background:white;" />   Eagle Eye</a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-bar navbar-kebab"></span>
            <span class="navbar-toggler-bar navbar-kebab"></span>
            <span class="navbar-toggler-bar navbar-kebab"></span>
          </button>
          <div class="collapse navbar-collapse" id="navigation">
            <ul class="navbar-nav ml-auto">
              <li class="search-bar input-group">
                <button class="btn btn-link" id="search-button" data-toggle="modal" data-target="#searchModal"><i class="tim-icons icon-zoom-split" ></i>
                  <span class="d-lg-none d-md-block">Search</span>
                </button>
              </li>
              <li class="dropdown nav-item">
                <a href="javascript:void(0)" class="dropdown-toggle nav-link" data-toggle="dropdown">
                  <div class="notification d-none d-lg-block d-xl-block"></div>
                  <i class="tim-icons icon-sound-wave"></i>
                  <p class="d-lg-none">
                    Notifications
                  </p>
                </a>
                <ul class="dropdown-menu dropdown-menu-right dropdown-navbar">
                  <li class="nav-link"><a href="#" class="nav-item dropdown-item">Mike John responded to your email</a></li>
                  <li class="nav-link"><a href="javascript:void(0)" class="nav-item dropdown-item">You have 5 more tasks</a></li>
                  <li class="nav-link"><a href="javascript:void(0)" class="nav-item dropdown-item">Your friend Michael is in town</a></li>
                  <li class="nav-link"><a href="javascript:void(0)" class="nav-item dropdown-item">Another notification</a></li>
                  <li class="nav-link"><a href="javascript:void(0)" class="nav-item dropdown-item">Another one</a></li>
                </ul>
              </li>
              <li class="dropdown nav-item">
                <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                  <div class="photo">
                    <img src="{% static '/assets/img/anime3.png' %}" alt="Profile Photo">
                  </div>
                  <b class="caret d-none d-lg-block d-xl-block"></b>
                  <p class="d-lg-none">
                    Log out
                  </p>
                </a>
                <ul class="dropdown-menu dropdown-navbar">
                  <li class="nav-link"><a href="javascript:void(0)" class="nav-item dropdown-item">Profile</a></li>
                  <li class="nav-link"><a href="javascript:void(0)" class="nav-item dropdown-item">Settings</a></li>
                  <li class="dropdown-divider"></li>
                  <li class="nav-link"><a  href="/logout" class="nav-item dropdown-item">Log out</a></li>
                </ul>
              </li>
              <li class="separator d-lg-none"></li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="modal modal-search fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModal" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <input type="text" class="form-control" id="inlineFormInputGroup" placeholder="SEARCH">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <i class="tim-icons icon-simple-remove"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
      <!-- End Navbar -->
      <div class="content">
        <div class="row">
          <div class="col-12">
            <div class="card card-chart">
              <div class="card-header ">
                <div class="row">
                  <div class="col-sm-6 text-left">
                    <h5 class="card-category">Total Shipments</h5>
                    <h2 class="card-title">Performance</h2>
                  </div>
                  <div class="col-sm-6">
                    <div class="btn-group btn-group-toggle float-right" data-toggle="buttons">
                      <label class="btn btn-sm btn-primary btn-simple active" id="0">
                        <input type="radio" name="options" checked>
                        <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Accounts</span>
                        <span class="d-block d-sm-none">
                          <i class="tim-icons icon-single-02"></i>
                        </span>
                      </label>
                      <label class="btn btn-sm btn-primary btn-simple" id="1">
                        <input type="radio" class="d-none d-sm-none" name="options">
                        <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Purchases</span>
                        <span class="d-block d-sm-none">
                          <i class="tim-icons icon-gift-2"></i>
                        </span>
                      </label>
                      <label class="btn btn-sm btn-primary btn-simple" id="2">
                        <input type="radio" class="d-none" name="options">
                        <span class="d-none d-sm-block d-md-block d-lg-block d-xl-block">Sessions</span>
                        <span class="d-block d-sm-none">
                          <i class="tim-icons icon-tap-02"></i>
                        </span>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="chart-area">
                  <canvas id="chartBig1"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-4">
            <div class="card card-chart">
              <div class="card-header">
                <h5 class="card-category">Total Shipments</h5>
                <h3 class="card-title"><i class="tim-icons icon-bell-55 text-primary"></i> 763,215</h3>
              </div>
              <div class="card-body">
                <div class="chart-area">
                  <canvas id="chartLinePurple"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card card-chart">
              <div class="card-header">
                <h5 class="card-category">Daily Sales</h5>
                <h3 class="card-title"><i class="tim-icons icon-delivery-fast text-info"></i> 3,500€</h3>
              </div>
              <div class="card-body">
                <div class="chart-area">
                  <canvas id="CountryChart"></canvas>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-4">
            <div class="card card-chart">
              <div class="card-header">
                <h5 class="card-category">Completed Tasks</h5>
                <h3 class="card-title"><i class="tim-icons icon-send text-success"></i> 12,100K</h3>
              </div>
              <div class="card-body">
                <div class="chart-area">
                  <canvas id="chartLineGreen"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-lg-6 col-md-12">
            <div class="card card-tasks">
              <div class="card-header ">
                <h6 class="title d-inline"><span id="country_name" class="text-warning">Pakistan</span>  Top Trends  </h6>
               
                <div class="dropdown">
                  <button type="button" class="btn btn-link dropdown-toggle btn-icon" data-toggle="dropdown">
                    <i class="tim-icons icon-settings-gear-63"></i>
                  </button>
                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#pablo">Action</a>
                    <a class="dropdown-item" href="#pablo">Another action</a>
                    <a class="dropdown-item" href="#pablo">Something else</a>
                  </div>
                </div>

                <!--  -->
                <div class="row">
                  <div class="col-md-6"><form action="">
                    <select class="form-control border border-warning " name="select_trends_by_country" id="select_trends_by_country">
                      <option class="text-dark" value="pakistan">Select Country</option>
                      <option class="text-dark" value="india">India</option>
                      <option class="text-dark" value="pakistan">paksitan</option>
                    </select></div>
                 
                  <div class="col-md-6 text-center ">
                    <button type="button" class="btn btn-sm btn-warning "  data-toggle="modal" data-target="#selectCountryGlobe"style="font-size:12px;">Select From Map</button>
                    
                  </div>
                 
                </div>
               
              </div>
              <div class="card-body ">
                <div class="table-full-width table-responsive" id="twitter_table" >
                  <table class="table">
                    <thead>
                      <tr>
                        <th  style="width:20%;" class="text-warning font-weight-bold">SR</th>
                     <th  style="width:40%;" class="text-warning font-weight-bold">HashTag Name </th>
                     <th style="width:40%;" class="text-warning font-weight-bold">HashTag Count  </th>
                     </tr>
                    </thead>
                    <tbody id="twitter_table_body_1">
                     {% for i in trends %}
                      <tr>
                        <td class="text-white font-weight-bold">{{ forloop.counter }}</td>
                        <td><a href="{{i.href}}" class="text-success font-weight-bold">{{i.name}}</a></td>
                        <td><a href="{{i.href}}" class="text-success font-weight-bold">{{i.count}}</a></td>
                     

                      </tr>
                     {% endfor %}
                    </tbody>

                  </table>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-6 col-md-12">
            <div class="card card-tasks ">
              <div class="card-header">
                <h6 class="title d-inline"><span  class="text-warning">World-Wide</span>  Top Trends  </h6>
               
                <div class="dropdown">
                  <button type="button" class="btn btn-link dropdown-toggle btn-icon" data-toggle="dropdown">
                    <i class="tim-icons icon-settings-gear-63"></i>
                  </button>
                  <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuLink">
                    <a class="dropdown-item" href="#pablo">Action</a>
                    <a class="dropdown-item" href="#pablo">Another action</a>
                    <a class="dropdown-item" href="#pablo">Something else</a>
                  </div>
                </div>

                <!--  -->
                <div class="row">
                  <div class="col-md-6">
                    <select class="form-control border border-warning " name="select_trends_by_country" id="select_trends_by_country">
                      <option class="text-dark" value="pakistan">Select Source</option>
                      <option class="text-dark" value="trends24.in">www.trends24.in/</option>
                      <option class="text-dark" value="pakistan">paksitan</option>
                    </select></div>
                
                  <div class="col-md-6 text-center ">
                    <button type="button" id="resfreshWordwideTrends_btn" class="btn btn-sm btn-warning " style="font-size:12px;">Refresh Source</button>
                    
                  </div>
                </div>
              </div>
              <div class="card-body">
                <div class="table-full-width table-responsive">
               
                  <table class="table">
                    <thead>
                      <tr>
                        <th  style="width:20%;" class="text-warning font-weight-bold">SR</th>
                     <th  style="width:40%;" class="text-warning font-weight-bold">HashTag Name </th>
                     <th style="width:40%;" class="text-warning font-weight-bold">HashTag Count  </th>
                     </tr>
                    </thead>
                    <tbody id="twitter_table_body_2">
                     {% for i in world_trends %}
                      <tr>
                        <td class="text-success font-weight-bold">{{ forloop.counter }}</td>
                        <td><a href="{{i.href}}" class="text-success font-weight-bold">{{i.name}}</a></td>
                        <td><a href="{{i.href}}" class="text-success font-weight-bold">{{i.count}}</a></td>
                     

                      </tr>
                     {% endfor %}
                    </tbody>

                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
        
<div class="container-fluid border ">
  <div class="row">
    <div class="col-md-12 ">
      <ul class=" nav nav-tabs d-flex flex-row justify-content-around align-items-center ">
        <li class="active">
          <a data-toggle="tab" class="nav-link text-decoration-none  border-right border-left border" href="#map_1">Map 1</a></li>
        <li>
          <a data-toggle="tab" class="nav-link text-decoration-none  border-right border-left border" href="#map_2">Map 2</a></li>
        <li>
          <a data-toggle="tab" class="nav-link text-decoration-none  border-right border-left border" href="#map_3">Map 3</a></li>
        <li>
          <a data-toggle="tab" class="nav-link text-decoration-none  border-right border-left border" href="#map_4">Map 4</a></li>
      </ul>
    
      <div class="tab-content "  style="height:400;width:100%">
        <div id="map_1" class="tab-pane h-100 fade in active show">
          <div class="map" id="map" class=" h-100 w-100"> 
        </div>
        </div>
        <div id="map_2" class="tab-pane fade  h-100  ">
          <div class="mmap" id='mmap' class=" h-100 w-100"></div>
          <p class="text-white">tab 2</p>
      </div>
        <div id="map_3" class="tab-pane  h-100 fade">
          <p class="text-white">tab 3</p>
          <div class="asd" id='asd' class=" h-100 w-100"></div>
        </div>
        <div id="map_4" class="tab-pane  h-100 fade">
          <p class="text-white">tab 4</p>
        </div>
      </div>
    </div>
  </div>
 
  </div>
</div>
      </div>




      <footer class="footer">
        <div class="container-fluid">
          <ul class="nav">
            <li class="nav-item">
              <a href="javascript:void(0)" class="nav-link">
                Creative Tim
              </a>
            </li>
            <li class="nav-item">
              <a href="javascript:void(0)" class="nav-link">
                About Us
              </a>
            </li>
            <li class="nav-item">
              <a href="javascript:void(0)" class="nav-link">
                Blog
              </a>
            </li>
          </ul>
          <div class="copyright">
            ©
            <script>
              document.write(new Date().getFullYear())
            </script>2018 made with <i class="tim-icons icon-heart-2"></i> by
            <a href="javascript:void(0)" target="_blank">Creative Tim</a> for a better web.
          </div>
        </div>
      </footer>
    </div>
  </div>
  <div class="fixed-plugin">
    <div class="dropdown show-dropdown">
      <a href="#" data-toggle="dropdown">
        <i class="fa fa-cog fa-2x"> </i>
      </a>
      <ul class="dropdown-menu">
        <li class="header-title"> Sidebar Background</li>
        <li class="adjustments-line">
          <a href="javascript:void(0)" class="switch-trigger background-color">
            <div class="badge-colors text-center">
              <span class="badge filter badge-primary active" data-color="primary"></span>
              <span class="badge filter badge-info" data-color="blue"></span>
              <span class="badge filter badge-success" data-color="green"></span>
            </div>
            <div class="clearfix"></div>
          </a>
        </li>
        <li class="adjustments-line text-center color-change">
          <span class="color-label">LIGHT MODE</span>
          <span class="badge light-badge mr-2"></span>
          <span class="badge dark-badge ml-2"></span>
          <span class="color-label">DARK MODE</span>
        </li>
        <li class="button-container">
          <a href="https://www.creative-tim.com/product/black-dashboard" target="_blank" class="btn btn-primary btn-block btn-round">Download Now</a>
          <a href="https://demos.creative-tim.com/black-dashboard/docs/1.0/getting-started/introduction.html" target="_blank" class="btn btn-default btn-block btn-round">
            Documentation
          </a>
        </li>
        <li class="header-title">Thank you for 95 shares!</li>
        <li class="button-container text-center">
          <button id="twitter" class="btn btn-round btn-info"><i class="fab fa-twitter"></i> &middot; 45</button>
          <button id="facebook" class="btn btn-round btn-info"><i class="fab fa-facebook-f"></i> &middot; 50</button>
          <br>
          <br>
          <a class="github-button" href="https://github.com/creativetimofficial/black-dashboard" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star ntkme/github-buttons on GitHub">Star</a>
        </li>
      </ul>
    </div>
  </div>
  <!--   Core JS Files   -->
  <script src="{% static '/assets/js/core/jquery.min.js' %} "></script>
  <script src="{% static '/assets/js/core/popper.min.js' %} "></script>
  <script src="{% static '/assets/js/core/bootstrap.min.js' %} "></script>
  <script src="{% static '/assets/js/plugins/perfect-scrollbar.jquery.min.js' %} "></script>
  <!-- <script src="{% static 'tps://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE" ></script> -->
  <script src="{% static '/assets/js/plugins/chartjs.min.js' %} "></script>
  <script src="{% static '/assets/js/plugins/bootstrap-notify.js' %}"></script>













  <script src="{% static '/assets/js/black-dashboard.min.js?v=1.0.0' %}"></script>
  <script src="{% static '/assets/demo/demo.js' %} "></script>
  <script src="{% static '/dashboard/js/leaflet.js'%}" ></script>
 











<!-- leaf let multilayered map  -->
<script>
  var cities = L.layerGroup();

	L.marker([39.61, -105.02]).bindPopup('This is Littleton, CO.').addTo(cities),
	L.marker([39.74, -104.99]).bindPopup('This is Denver, CO.').addTo(cities),
	L.marker([39.73, -104.8]).bindPopup('This is Aurora, CO.').addTo(cities),
	L.marker([39.77, -105.23]).bindPopup('This is Golden, CO.').addTo(cities);


	var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
			'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
			'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
		mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';

	var grayscale   = L.tileLayer(mbUrl, {id: 'mapbox/light-v9', tileSize: 512, zoomOffset: -1, attribution: mbAttr}),
		streets  = L.tileLayer(mbUrl, {id: 'mapbox/streets-v11', tileSize: 512, zoomOffset: -1, attribution: mbAttr});

	var map = L.map('map', {
		center: [39.73, -104.99],
		zoom: 10,
		layers: [grayscale, cities]
	});

	var baseLayers = {
		"Grayscale": grayscale,
		"Streets": streets
	};

	var overlays = {
		"Cities": cities
	};

	L.control.layers(baseLayers, overlays).addTo(map);
</script>




















  <script>
    $(document).ready(function() {
      $().ready(function() {
        $sidebar = $('.sidebar');
        $navbar = $('.navbar');
        $main_panel = $('.main-panel');

        $full_page = $('.full-page');

        $sidebar_responsive = $('body > .navbar-collapse');
        sidebar_mini_active = true;
        white_color = false;

        window_width = $(window).width();

        fixed_plugin_open = $('.sidebar .sidebar-wrapper .nav li.active a p').html();



        $('.fixed-plugin a').click(function(event) {
          if ($(this).hasClass('switch-trigger')) {
            if (event.stopPropagation) {
              event.stopPropagation();
            } else if (window.event) {
              window.event.cancelBubble = true;
            }
          }
        });

        $('.fixed-plugin .background-color span').click(function() {
          $(this).siblings().removeClass('active');
          $(this).addClass('active');

          var new_color = $(this).data('color');

          if ($sidebar.length != 0) {
            $sidebar.attr('data', new_color);
          }

          if ($main_panel.length != 0) {
            $main_panel.attr('data', new_color);
          }

          if ($full_page.length != 0) {
            $full_page.attr('filter-color', new_color);
          }

          if ($sidebar_responsive.length != 0) {
            $sidebar_responsive.attr('data', new_color);
          }
        });

        $('.switch-sidebar-mini input').on("switchChange.bootstrapSwitch", function() {
          var $btn = $(this);

          if (sidebar_mini_active == true) {
            $('body').removeClass('sidebar-mini');
            sidebar_mini_active = false;
            blackDashboard.showSidebarMessage('Sidebar mini deactivated...');
          } else {
            $('body').addClass('sidebar-mini');
            sidebar_mini_active = true;
            blackDashboard.showSidebarMessage('Sidebar mini activated...');
          }

          // we simulate the window Resize so the charts will get updated in realtime.
          var simulateWindowResize = setInterval(function() {
            window.dispatchEvent(new Event('resize'));
          }, 180);

          // we stop the simulation of Window Resize after the animations are completed
          setTimeout(function() {
            clearInterval(simulateWindowResize);
          }, 1000);
        });

        $('.switch-change-color input').on("switchChange.bootstrapSwitch", function() {
          var $btn = $(this);

          if (white_color == true) {

            $('body').addClass('change-background');
            setTimeout(function() {
              $('body').removeClass('change-background');
              $('body').removeClass('white-content');
            }, 900);
            white_color = false;
          } else {

            $('body').addClass('change-background');
            setTimeout(function() {
              $('body').removeClass('change-background');
              $('body').addClass('white-content');
            }, 900);

            white_color = true;
          }


        });

        $('.light-badge').click(function() {
          $('body').addClass('white-content');
        });

        $('.dark-badge').click(function() {
          $('body').removeClass('white-content');
        });
      });
    });
  </script>
  <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      demo.initDashboardPageCharts();

    });
  </script>
  <script src="https://cdn.trackjs.com/agent/v3/latest/t.js"></script>
  <script>
    window.TrackJS &&
      TrackJS.install({
        token: "ee6fab19c5a04ac1a32a645abde4613a",
        application: "black-dashboard-free"
      });
  </script>
  
  <script>
    $(document).ready(function () {
      $('#select_trends_by_country').on('change', function () {
        var country = this.value;

        $.ajax({
          url: '/twitterTrendsByCountry',
          type: 'GET',

          data: {
            'country': country
          },
          success: function (data) {
            console.log("twitter trends by country name = success")
            $('#twitter_table_body_1').empty();
            $.each(data, function (i, item) {
              var html = '<tr><td class="text-white font-weight-bold">' + i + '</td><td><a href="' + item.href + '" class="text-white font-weight-bold">' + item.name + '</a></td><td><a href="' + item.href + '" class="text-white font-weight-bold">' + item.count + '</a></td></tr>';
              $('#twitter_table_body_1').append(html);
            
            });


          },
          error: function (error) {

            console.log(error)
          }
        });



      });
    })


  </script>

  <script>
    $(document).ready(function () {
      $('#resfreshWordwideTrends_btn').on('click', function () {
        var country = '';

        $.ajax({
          url: '/twitterTrendsByCountry',
          type: 'GET',

          data: {
            'country': country
          },
          success: function (data) {
            console.log("twitter trends by world  = success")
           
            $('#twitter_table_body_2').empty();
            $.each(data, function (i, item) {
              var html = '<tr><td class="text-white font-weight-bold">' + i + '</td><td><a href="' + item.href + '" class="text-white font-weight-bold">' + item.name + '</a></td><td><a href="' + item.href + '" class="text-white font-weight-bold">' + item.count + '</a></td></tr>';
              $('#twitter_table_body_2').append(html);
     
            });


          },
          error: function (error) {

            console.log(error)
          }
        });



      });
    })


  </script>
<!-- Resources -->
<script src="{% static '/dashboard/js/amcharts_core.js' %}"></script>
<script src="{% static '/dashboard/js/amcharts_maps.js' %}"></script>
<script src="{% static '/dashboard/js/amcharts_worldLow.js' %}"></script>
<script src="{% static '/dashboard/js/amcharts_animated.js' %}"></script>

<!-- Chart code -->
<script>
am4core.ready(function() {

// Themes begin
am4core.useTheme(am4themes_animated);
// Themes end

var chart = am4core.create("globe", am4maps.MapChart);

// Set map definition
chart.geodata = am4geodata_worldLow;

// Set projection
chart.projection = new am4maps.projections.Orthographic();
chart.panBehavior = "rotateLongLat";
chart.deltaLatitude = -20;
chart.padding(0,0,0,0);

// limits vertical rotation
chart.adapter.add("deltaLatitude", function(delatLatitude){
    return am4core.math.fitToRange(delatLatitude, -90, 90);
})

// Create map polygon series
var polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());

// Make map load polygon (like country names) data from GeoJSON
polygonSeries.useGeodata = true;

// Configure series
var polygonTemplate = polygonSeries.mapPolygons.template;
polygonTemplate.tooltipText = "{name}";
polygonTemplate.fill = am4core.color("#47c78a");
polygonTemplate.stroke = am4core.color("#454a58");
polygonTemplate.strokeWidth = 0.5;

var graticuleSeries = chart.series.push(new am4maps.GraticuleSeries());
graticuleSeries.mapLines.template.line.stroke = am4core.color("#ffffff");
graticuleSeries.mapLines.template.line.strokeOpacity = 0.08;
graticuleSeries.fitExtent = false;

polygonTemplate.events.on("hit", function(ev) {
  
  // zoom to an object
  //ev.target.series.chart.zoomToMapObject(ev.target);

  // get object info
 // console.log(ev.target.dataItem.dataContext.name);
var value=ev.target.dataItem.dataContext.name;
var country = value.toLowerCase();


country=country.split(" ").join("-");
console.log(country)

  
    $.ajax({
      url: '/twitterTrendsWorldWide',
      type: 'GET',

      data: {
        'country': country
      },
      success: function (data) {

        $('#twitter_table_body').empty();
        $.each(data, function (i, item) {
          var html = '<tr><td class="text-white font-weight-bold">' + i + '</td><td><a href="' + item.href + '" class="text-white font-weight-bold">' + item.name + '</a></td><td><a href="' + item.href + '" class="text-white font-weight-bold">' + item.count + '</a></td></tr>';
          $('#twitter_table_body').append(html);
          console.log(i)
        });

    $('#selectCountryGlobe').modal('toggle');
    $('#country_name').empty().append(value)
      },
      error: function (error) {

        console.log(error)
      }
  



  });
});


chart.backgroundSeries.mapPolygons.template.polygon.fillOpacity = 0.1;
chart.backgroundSeries.mapPolygons.template.polygon.fill = am4core.color("#ffffff");

// Create hover state and set alternative fill color
var hs = polygonTemplate.states.create("hover");
hs.properties.fill = chart.colors.getIndex(0).brighten(-0.5);

let animation;
setTimeout(function(){
  animation = chart.animate({property:"deltaLongitude", to:100000}, 20000000);
}, 3000)

chart.seriesContainer.events.on("down", function(){
if(animation){
 // animation.stop();
}
})

}); // end am4core.ready()
</script>

<!-- HTML -->


  <!-- Modal -->
<div  class="modal fade" id="selectCountryGlobe" tabindex="-1" role="dialog" aria-labelledby="selectCountryGlobeLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header custom_center bg-warning">
       <p style="font-size:16px;">World globe </p>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body bg-dark">
        <!-- <div id="globe"style="height:400px;width:100%"></div> -->
      </div>
      <div class="modal-footer d-flex flex-row justify-content-center align-items-center">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
      </div>
    </div>
  </div>
</div>

<!-- leaf let maps  -->


</body>

</html>